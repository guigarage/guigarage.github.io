---
layout: post
title:  'TODO'
author: hendrik
featuredImage: sample-2
excerpt: 'TODO'
categories: [Java, JavaFX]
header:
  text: TODO
  image: sample
---
A lot of people asked the [AdoptOpenJDK community Slack channel](https://adoptopenjdk.net/slack.html) why JavaFX is not part of the AdoptOpenJDK builds. This article should give an overview of the current state of JavaFX 8 and shows why it sadly won’t be a good choose for AdoptOpenJDK to integrate JavaFX in the Java 8 builds. 

As most of you might already know Oracle dropped JavaFX from its JDK/JRE builds starting with Java 11. Luckily JavaFX has been open source for several years as part of the OpenJDK and the community did an awesome job by picking it up and continuing its development. Especially the company [Gluon](https://gluonhq.com) did a lot of work in this area and is responsible for the JavaFX 11+ releases. As already mentioned the complete project is open source and the [GitHub repo](https://github.com/javafxports/openjdk-jfx) is a good starting point to have a look at the sources or report a bug.

While all these points are good news for the future of JavaFX and its usage in Java 11+ versions the use of JavaFX in Java 8 is today a big problem. Let’s have a deeper look at the current state and support of Java 8.

## The state of Java 8

Starting with Java 8 update 211 Oracle has changed the licence for the Oracle Java distribution and therefore this can not be used for free in production anymore. If you are not a paying customer for Java support at Oracle you can not use any update after Java 8 update 202 in production. Based on this companies that develop or maintain a JavaFX based application with Java 8 need to find a solution if they want to depend on a secure infrastructure. Thanks to organisations like AdoptOpenJDK (adoptopenjdk.net) we can receive critical patch updates for Java 8 the next years without the need to pay for commercial support. While Oracle does not allow to use new versions of Java 8 in production other companies like RedHat still distribute security patches to the open source branch of Java 8 and based on that AdoptOpenJDK can provide Java 8 versions that contain all security fixes. AdoptOpenJDK do not contribute any security patches or bugfixes to the Java 8 and Java 11 branches. Based on the awesome work and contribution to the OpenJDK branches by companies like [RedHat](https://developers.redhat.com/products/openjdk/overview) or [Bellsoft](https://bell-sw.com) everyone can download free and up-to-date Java 8 and 11 LTS versions at AdoptOpenJDK. After a lot of confusion about Oracle’s new licence model and update strategy we finally have a stable and ready to use Java distribution based on the awesome work of AdoptOpenJDK. 

## The state of JavaFX 8

Sadly, with JavaFX it looks a little different. Security issues do not only appear in Java and several critical bugs where found and fixed in JavaFX within the last years. While several JVM vendors like Amazon or Azul provide JDK builds that include JavaFX the state of the JavaFX integration is often not really clear. As already said the OpenJDK branch for Java 8 is still in use and security fixes are merged in that branch. For JavaFX the branch for version 8 has zero changes since the release of Java 8 update 202. While a lot of fixes has been done since then in the JavaFX 11 branch none of them was merged in the JavaFX 8 branch. Let’s have a concrete example by looking at an issue in the [JDK bug tracker](https://bugs.openjdk.java.net/browse/JDK-8213806). The given issue describes a problem with the JavaFX WebView that can crash your Java application. The issue was reported in November 2018 and fixed in January 2019. You can find the Pull Request to fix this [at GitHub](https://github.com/javafxports/openjdk-jfx/pull/355). While the initial fix has been done in the JavaFX 12 upstream repository Oracle decided that the fix should be migrated to JavaFX 8 and 11, too. Gluon provides LTS support for JavaFX 11 and therefore the fix has been migrated by Gluon in the [JavaFX 11 branch](http://hg.openjdk.java.net/openjfx/11-dev/rt/rev/7f0781a4dfd0). But when having a look at the issue you will see that the fix has not only be migrated to JavaFX 11 but to JavaFX 8, too. On the other hand you do not see any change in the open source JavaFX 8 branch. This is based on the concept of Oracles commercial LTS support. All fixes that Oracle did and will do after the release of Java 8 update 202 won’t become part of the open source OpenJDK repositories. Oracle cloned the sources and continue to work on Java 8 (and JavaFX 8) in private repositories. By doing so all the fixes that Oracle provide for Java 8 are only accessible in commercial Java 8 downloads. As a developer that doesn’t have commercial support from Oracle you have zero chance to get this security fix in Java 8. These missing fixes in the open source JavaFX 8 branch are the only reason why AdoptOpenJDK do not provide Java 8 builds that include JavaFX. By doing this Adopt would offer Java distributions with possible security issues.

## How other vendors handle JavaFX 8 support

When having a look at the Java distributions of vendors like Amazon, Bellsoft or Azul you will see that several vendors provide Java 8 distributions that contains JavaFX 8. While all these vendors provide LTS versions and promise to include critical patches in their releases they should do the same with the included JavaFX. Some of them use a workflow that is similar to the one of Oracle and do all this fixes in private repositories. But this is not the case for all vendors. Amazon Corretto for example provides it build scripts as open source at GitHub. As far as I understand the build script of Corretto it is just building the last version of the open source [JavaFX 8 branch](https://github.com/corretto/corretto-8/blob/develop/javafx/build.gradle). As already mentioned this branch has zero commits since the release of Java 8 update 202. So it looks like actual Amazon Corretto builds contain no security fixes for JavaFX. As far as I know Bellsoft and Azul work in private repositories. For the Azul build I do not have any information about the state of JavaFX fixes in the Zulu JDK. For the Liberica JDK from Bellsoft you can find release notes that contains the fixes that are part of a release. For Java 8u222 Bellsoft migrated over 20 JavaFX specific fixes in the Liberica JDK. Sadly Bellsoft does this for company reasons in a closed source repository. While Bellsoft migrates fixes to the OpenJDK repository for Java they do not have the man power to do the same for JavaFX at the moment. Migrating such fix takes time and since Bellsoft is working with Git internally while the JavaFX 8 repo of OpenJDK is still based on mercurial. There is a change that Bellsoft will migrate fixes to the JavaFX 8 repo once it is [moved to Git](https://openjdk.java.net/projects/skara/) since the manual work will be less in such case.

At the moment sadly no company migrate fixes back in the open source branch of JavaFX 8. For none of this companies JavaFX is a critical part of the offered LTS support. Therefore I assume that migrating such patches to the open source repository would definitely not affect any LTS income in a negative way. I would even assume that such work would have a positive effect since you would see what company really takes care of JavaFX.

## What options do I have?

If you need an up-to-date version of JavaFX 8 currently a payed LTS support at Oracle or the Liberica JDK from Bellsoft looks like the best option (the quality of the JavaFX integration in Zulu couldn’t be verified). While you can not see the code of the fixes you see the state of the issues in the bug tracker and can find information about a specific bug and if the fix has been migrated to JavaFX 8. Sadly the LTS model of Oracle can be very expensive for client side Java and if you sell your clients to customers it will become very hard to get such LTS support. 

To be honest an open source LTS version of JavaFX 8 would be a much better option. To have such a solution a company that currently advertises JavaFX 8 integration in its LTS versions must migrate its fixes to the open source JavaFX 8 branch or directly work in this branch. Once at least one company is willing to go that way AdoptOpenJDK could include JavaFX in its LTS builds for Java 8. 

## You can change the current state

If you have read the article up to this point you might be in a situation that the state of JavaFX 8 is important for you. If you are using JavaFX 8 in your project maybe you should contact a Java vendor that includes JavaFX in its Java 8 builds and ask how the support for JavaFX is working. Maybe you even work for a Java vendor and you never thought about the described problem. In that case I would love to chat with you about the workflows that you use to provide JavaFX LTS for Java 8.
